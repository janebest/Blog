<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../public/vant/index.css">
    <script src="../public/js/vue.min.js"></script>
    <script src="../public/vant/vant.min.js"></script>
</head>

<body>
    <div id="app">
        <!-- <p>
            /*删除多个选中函数*/
            deleteSelectAll:function(){
            for(var i = this.shopTableDatas.length-1 ; i >= 0 ; i--){
            if(this.shopTableDatas[i].checked == true){
            this.shopTableDatas.splice(i, 1);
            }
            }
            },
        </p> -->
        <p>
            <ul v-for='(item,index) in list'>
                <li>
                    {{item.name}}
                    <div class="user_order_bottom" @click="item.show = true">
                        <van-col span="8" class="text_center"><span class="color_blue f18">{{ item.start_date }}</span>
                        </van-col>
                        <van-col span="8" class="text_center"><span class="color_blue f18">{{ item.end_date }}</span>
                        </van-col>
                    </div>
                    <van-calendar v-model="item.show" type="range" @confirm="onConfirm($event, index)" color="#1989fa">
                    </van-calendar>
                </li>
            </ul>
        </p>
    </div>
</body>
<script>
    var vm = new Vue({
        el: '#app',
        data() {
            return {
                list: [{
                    name: "123",
                    start_date: '',
                    end_date: '',
                    show: false,
                }, {
                    name: "123",
                    start_date: '',
                    end_date: '',
                    show: false,
                }, {
                    name: "123",
                    start_date: '',
                    end_date: '',
                    show: false,
                }]
            }
        },
        methods: {
            //格式化日期
            formatDate(date) {
                //return date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate() + ' ' + date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
                return date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();
            },
            onConfirm(date, index) {
                const [start, end] = date;
                this.list[index].show = false;
                this.list[index].start_date = `${this.formatDate(start)}`;
                this.list[index].end_date = `${this.formatDate(end)}`;
            },
        }
    })
</script>

</html>