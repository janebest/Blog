# this

**this：**函数是从何处被调用的，函数是如何被调用的，被传递了什么参数等信息。这个记录的属性之一，就是在函数执行期间将被使用的 this 引用。

**this 特点：**1.函数的调用方式决定了 this 的值，**运行期间**绑定
                    2.每次函数被调用时 this 的值也可能会不同
                    3.this 不能被赋值
                    4.this 不进行作用域传递

**this的作用：**1. 复用代码

​                       2.提供了一个更加优雅而灵便的方案，传递一个隐式的对象引用让代码变得更加简洁

**this绑定规则：**

​       **1.默认绑定：** 使用**非严格模式**，this 会绑定到**全局对象** window 上。
​                             使用**严格模式**（strict）， this 会绑定到 **undefined**。

​                               函数嵌套时，this 绑定：变量 _this、that、self  锁定this，bind() 锁定   

​        **2.隐式绑定：**（调用位置是否有上下文对象。）
​                               1.**函数作为对象的方法调用时**，函数上下文指向这个对象

​                               2.数组中**存放函数**，**被数组索引调用**。this上下文指向这个数组。

​                               3.**就近原则**：对象属性引用链中只有最顶层或者说最后一层会影响调用位置。

​        **3.显示绑定：**使用 call()、apply()、bind() 方法显示改变 this 的指向为指定对象。

​        **4.new绑定：** new 来调用函数，或者说发生构造函数调用时，会自动执行下面的操作。
​                               1.**创建**（或者说构造）一个全新的对象。
​                               2.这个新对象会被**执行 [[ 原型 ]] 连接**。
​                               3.这个新对象会**绑定到函数调用的 this**。
​                               4.如果函数没有返回其他对象，那么 new 表达式中的函数调用会自动返回 this (**新对象**)。

**绑定优先级：**new 绑定 > 显式绑定 > 隐式绑定 > 默认绑定

**判断 this 的顺序：** 1.函数是否在 **new** 中调用？如果是的话 this 绑定的是**新创建的对象**。
                                  2.函数是否通过 **call、apply、bind**调用？如果是的话 this 绑定的是**指定的对象**。
                                  3.函数是否在**某个上下文对象中调用**（隐式绑定）？如果是的话，this 绑定的是**那个上下文对象**。
                                  4.如果都不是的话，使用默认绑定。如果在严格模式下，就绑定到 undefined，否则绑定到全局对象。